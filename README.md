
> æ–‡ç« æ¯”è¾ƒé•¿ï¼Œå»ºè®®æ‰“å¼€ä¾§è¾¹å¤§çº²é˜…è¯»ã€‚

# obsidian-Kanban-MOC-demo

è¿™æ˜¯ä¸€ä¸ªçœ‹æ¿MOCæ’ä»¶çš„æ¼”ç¤ºåº“ã€‚

ä½¿ç”¨æ–¹æ³•ï¼šç›´æ¥ä¸‹è½½è§£å‹ä½¿ç”¨ obsidian æ‰“å¼€ã€‚

ç›¸å…³é“¾æ¥ï¼š

- çœ‹æ¿MOCæ’ä»¶ï¼š[1657744680/obsidian-Kanban-MOC: è‡ªç”¨æ’ä»¶ (github.com)](https://github.com/1657744680/obsidian-Kanban-MOC)
- å¸¦æ³¨é‡Šçš„å®˜æ–¹æ’ä»¶ç¤ºä¾‹ï¼š[obsidian-plugin-sample-notes (github.com)](https://github.com/1657744680/obsidian-Kanban-MOC)

# å‰è¨€

æœ¬äººèœé¸¡ï¼Œå¯¹ JavaScript çš„äº†è§£å°±åªæœ‰æœ€åŸºç¡€çš„çŸ¥è¯†ï¼Œä»£ç å†™çš„ä¹Ÿå¾ˆçƒ‚ï¼Œå¤§ä½¬å‹¿å–·ã€‚
å¸Œæœ›è¿™ä¸ªæ•™ç¨‹èƒ½æ–¹ä¾¿å¤§å®¶äº†è§£ obsidian æ’ä»¶çš„å¼€å‘æµç¨‹ï¼Œæˆ‘ä¸ªäººæ„Ÿè§‰æœ‰ç‚¹ç¼–ç¨‹åŸºç¡€çš„è¯ï¼Œåšä¸ªç®€å•çš„æ’ä»¶è¿˜æ˜¯æŒºå®¹æ˜“ä¸Šæ‰‹çš„ã€‚

è¿™ä¸ªå±•ç¤ºåº“æœ‰ä¸¤ä¸ªç›®çš„ï¼š

1. è®°å½•ä¸€ä¸ªåˆæ¬¡çš„ obsidian å¼€å‘è¿‡ç¨‹
2. å±•ç¤ºè¿™ä¸ªå¼€å‘çš„æ’ä»¶çš„åŠŸèƒ½ã€ä½¿ç”¨æ–¹æ³•

ä¸‹é¢å°±ä¸¤ä¸ªç›®çš„è¿›è¡Œå™è¿°ï¼š

1. å…ˆå™è¿° obsidian æ’ä»¶çš„å¼€å‘ä¸Šæ‰‹
2. å†ç»“åˆä¾‹ç¨‹è®²è®²æ’ä»¶çš„å¼€å‘æµç¨‹ï¼Œä»£ç åŠå¯¹åº”çš„åŠŸèƒ½
3. æœ€åå±•ç¤ºæˆ‘å¼€å‘çš„æ’ä»¶çš„å®Œæ•´ä½¿ç”¨

# ä¸€ã€obsidian æ’ä»¶å¼€å‘ä¸Šæ‰‹

## 1ã€å°è¯•ä¸‹è½½æ’ä»¶ç¤ºä¾‹å¹¶åœ¨obsidianä¸­å¯ç”¨

1. ä¸‹è½½å¹¶è§£å‹[æ’ä»¶ç¤ºä¾‹](https://github.com/obsidianmd/obsidian-sample-plugin)ï¼Œå¹¶å°†å…¶æ”¾åœ¨ obsidian åº“ï¼ˆå¯ä»¥æ–°å»ºã€å¤åˆ¶ä¸€ä¸ªåº“ç”¨æ¥å¼€å‘ï¼‰çš„æ’ä»¶æ–‡ä»¶å¤¹ä¸‹
2. è‡ªè¡Œä¸‹è½½ node.jsï¼Œé…ç½®å¥½å¼€å‘ç¯å¢ƒ
3. è¿›åˆ°æ’ä»¶ç¤ºä¾‹æ–‡ä»¶å¤¹ä¸‹ï¼Œä½¿ç”¨ `npm i` å‘½ä»¤å®‰è£…ä¾èµ–ï¼ˆåªç”¨æ•´ä¸€æ¬¡ï¼‰
4. æ¥ä¸‹æ¥è¦ä½¿ç”¨å‘½ä»¤ï¼š`npm run dev` ä¼šå®æ—¶ç›‘æµ‹æ–‡ä»¶å˜åŒ–ï¼Œå°† `main.ts` æ–‡ä»¶ç¼–è¯‘æˆ `main.js` æ–‡ä»¶
5. ç¼–è¯‘å®Œæˆåè¿™æ—¶å°±å¯ä»¥åœ¨ obsidian ä¸­å¯ç”¨è¯¥æ’ä»¶äº†ã€‚

## 2ã€æ’ä»¶ç¤ºä¾‹æ–‡ä»¶ç»“æ„

å…ˆæ¥çœ‹æ’ä»¶ç¤ºä¾‹æ–‡ä»¶çš„ç»“æ„ï¼š

![image-20211218013344807](attachments/image-20211218013344807.png)

æ ‡çº¢çš„æ˜¯å‡ ä¸ªé‡è¦çš„æ–‡ä»¶ï¼Œéœ€è¦å¼€å‘è€…è¿›è¡Œç¼–è¾‘çš„ä¸»è¦å°±æ˜¯ä»¥ä¸‹ 3 ä¸ªæ–‡ä»¶ï¼š

- main.ts
- manifest.json
- style.css

é‡ä¸­ä¹‹é‡è‚¯å®šå°±æ˜¯ main.ts æ–‡ä»¶äº†ï¼Œæ¥ä¸‹æ¥å¼€å§‹çœ‹ ts æ–‡ä»¶

## 3ã€ç”¨ vscode æ‰“å¼€æ’ä»¶ç¤ºä¾‹ï¼ˆå¸¦æ³¨é‡Šçš„å®˜æ–¹æ’ä»¶ç¤ºä¾‹ï¼‰

æˆ‘åœ¨main.tsä¸­å†™äº†ç‚¹å„¿æ³¨é‡Šï¼ˆæˆ‘ä¹Ÿä¸çŸ¥é“å¯¹ä¸å¯¹ï¼‰ï¼Œå·²ç»ä¸Šä¼ åˆ°GitHubäº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥ç…ç…ï¼š[obsidian-plugin-sample-notes (github.com)](https://github.com/1657744680/obsidian-plugin-sample-notes)ã€‚ä¸‹è½½åè§£å‹åŒæ ·æ”¾åœ¨obsidiançš„æ’ä»¶æ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶å `npm run dev`ã€‚

è¿™æ˜¯ main.ts çš„æ€»ä½“ç»“æ„ï¼š

![image-20211218015329845](attachments/image-20211218015329845.png)

ç‚¹å¼€è¯¦ç»†çœ‹ï¼Œæˆ‘åœ¨[obsidian-plugin-sample-notes (github.com)](https://github.com/1657744680/obsidian-plugin-sample-notes)é‡Œé¢å†™äº†äº›æ³¨é‡Šï¼Œä¾‹å¦‚ï¼š

![image-20211218020011563](attachments/image-20211218020011563.png)

çœ‹ main.ts æ–‡ä»¶ï¼Œè‡ªå·±æ”¹æ”¹å‚æ•°ï¼Œç„¶åé‡æ–°åŠ è½½ obsidian ä¸­çš„è¯¥æ’ä»¶ï¼Œçœ‹åœ¨ obsidian ä¸­ä¼šæœ‰ä»€ä¹ˆå˜åŒ–ã€‚

çœ‹å®Œä¹‹åå°±å¤§è‡´æ˜ç™½å¦‚ä½•åˆ›å»ºä¸€ä¸ªå‘½ä»¤ç­‰ç­‰ï¼ˆå°±æ˜¯æŠ„ä»£ç ï¼‰

## 4ã€hot-reload æ’ä»¶è¾…åŠ©å¼€å‘

**ç°åœ¨æ€»ç»“ä¸‹å¼€å‘æµç¨‹**ï¼š

1. åœ¨æ’ä»¶æ–‡ä»¶å¤¹ä¸‹ npm iï¼ˆä»…éœ€è®¾ç½®ä¸€æ¬¡ï¼‰
2. ç„¶å npm run devï¼Œè¿™ä¼šå®æ—¶ç›‘æµ‹ ts æ–‡ä»¶å˜åŒ–å¹¶å°†å…¶ç¼–è¯‘æˆ jsæ–‡ä»¶
3. ç¼–è¾‘ main.ts æ–‡ä»¶
4. ä¿å­˜æ›´æ”¹ï¼Œæœ€åå»obsidiané‡æ–°åŠ è½½å¼€å‘ä¸­çš„ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œç„¶åå°±å¯ä»¥çœ‹åˆ°æ›´æ”¹

ç¬¬ 4 æ­¥æ‰‹åŠ¨é‡è½½æ’ä»¶æ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ [hot-reload](https://github.com/pjeby/hot-reload) è¿™æ¬¾ obsidian æ’ä»¶æ¥å®ç°è‡ªåŠ¨é‡æ–°åŠ è½½å‘ç”Ÿå˜åŒ–çš„æ’ä»¶ã€‚
å½“è£…ä¸Šè¿™æ¬¾æ’ä»¶åï¼Œå¼€å‘æµç¨‹å°±å˜æˆäº†ä¸‹é¢è¿™æ ·ï¼š

1. åœ¨æ’ä»¶æ–‡ä»¶å¤¹ä¸‹ npm iï¼ˆä»…éœ€è®¾ç½®ä¸€æ¬¡ï¼‰
2. æ‰‹åŠ¨å®‰è£… [hot-reload](https://github.com/pjeby/hot-reload) æ’ä»¶å¹¶å¯ç”¨ï¼ˆä»…éœ€è®¾ç½®ä¸€æ¬¡ï¼‰
3. ç„¶å git initï¼ˆä»…éœ€è®¾ç½®ä¸€æ¬¡ï¼‰ï¼ˆéœ€è¦å®‰è£… gitï¼‰ï¼Œåªæœ‰è¿™æ · hot-reload æ‰ä¼šé‡è½½è¯¥æ’ä»¶ã€‚
4. ç„¶å npm run devï¼Œè¿™ä¼šå®æ—¶ç›‘æµ‹ ts æ–‡ä»¶å˜åŒ–å¹¶å°†å…¶ç¼–è¯‘æˆ jsæ–‡ä»¶
5. ç¼–è¾‘ main.ts æ–‡ä»¶
6. ä¿å­˜æ›´æ”¹ï¼Œæœ€åå»obsidianå°±å¯ä»¥çœ‹åˆ°æ›´æ”¹

ç°åœ¨å°±å¯ä»¥ä¸ç”¨æ‰‹åŠ¨é‡è½½å¼€å‘çš„æ’ä»¶äº†ã€‚

# äºŒã€ç»“åˆä¾‹ç¨‹è®²è®²å¦‚ä½•å¼€å‘æ’ä»¶

## å…ˆå®šä¸€ä¸ªå°ç›®æ ‡ğŸ˜‰ï¼ˆåŠŸèƒ½éœ€æ±‚ï¼‰

å‡è®¾ç°åœ¨æˆ‘æƒ³å¼€å‘ä¸ªç®€å•çš„æ’ä»¶ï¼Œåå­—å°±å«ï¼šdemo-simple-plugin
æˆ‘å¸Œæœ›è¿™ä¸ªæ’ä»¶å…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š

1. æœ‰ä¸€æ¡**å‘½ä»¤**ï¼Œä¸”å½“æˆ‘è°ƒç”¨è¿™æ¡å‘½ä»¤æ—¶ï¼Œå®ƒä¼šåŒæ—¶å¼¹å‡ºä¸€æ¡é€šçŸ¥å’Œä¸€ä¸ªé¢æ¿
   1. **é€šçŸ¥**ï¼šå±•ç¤ºä¸€å¥**æ¬¢è¿è¯­**
   2. **é¢æ¿**ï¼šå±•ç¤º**å½“å‰æ‰“å¼€çš„æ–‡æ¡£çš„ä¸€äº›ç›¸å…³ä¿¡æ¯**
2. è¿˜æœ‰ä¸€ä¸ª**è®¾ç½®é¢æ¿**ï¼Œæˆ‘å¯ä»¥åœ¨é‡Œé¢**è‡ªå®šä¹‰é€šçŸ¥çš„æ¬¢è¿è¯­**ã€‚

å¥½ï¼Œç°åœ¨å¼€å§‹å¼€å‘ã€‚ 

## 1ã€ä¸‹è½½ã€è§£å‹å®˜æ–¹æ’ä»¶ç¤ºä¾‹

å‡è®¾å·²ç»å®‰è£… hot-reload æ’ä»¶äº†ï¼Œç„¶ååœ¨ä¸‹è½½çš„å®˜æ–¹æ’ä»¶ç¤ºä¾‹ä¸­ npm iã€git initã€npm run dev

æˆ‘æŠŠè¿™ä¸ªæ’ä»¶æ–‡ä»¶å¤¹æ›´åä¸ºæ’ä»¶åï¼šdemo-simple-plugin

æ¥ä¸‹æ¥ç”¨ vscode æ‰“å¼€è¿™ä¸ªæ’ä»¶æ–‡ä»¶å¤¹

![image-20211218105648333](attachments/image-20211218105648333.png)

## 2ã€ç¼–è¾‘æ’ä»¶ä¿¡æ¯ï¼šmanifest.json

obsidian ä¼šè¯†åˆ«è¿™ä¸ªæ–‡ä»¶ä½œä¸ºæ’ä»¶ä¿¡æ¯ï¼ˆå¾ˆç®€å•å°±ä¸å¤šè¯´äº†ï¼‰

![image-20211218110843695](attachments/image-20211218110843695.png)

ç„¶ååœ¨obsidianä¸­æ‰¾åˆ°å¯ç”¨è¯¥æ’ä»¶ï¼š

![image-20211218111026620](attachments/image-20211218111026620.png)

## 3ã€âš ï¸é‡ç‚¹ï¼šç¼–è¾‘ main.ts æ–‡ä»¶

ä½¿ç”¨ vscode æ‰“å¼€ main.ts æ–‡ä»¶ã€‚

å‰é¢æåˆ°äº† main.ts çš„å¤§è‡´ç»“æ„ï¼š
![image-20211218015329845](attachments/image-20211218015329845.png)

### è®¾ç½®å˜é‡ MyPluginSettings

æ ¹æ®åŠŸèƒ½éœ€æ±‚å¯çŸ¥ï¼Œæ¬¢è¿è¯­éœ€è¦èƒ½å¤Ÿè‡ªå®šä¹‰ï¼Œæ‰€ä»¥æ¬¢è¿è¯­è‚¯å®šæ˜¯è¦ä¿å­˜çš„ã€‚

æ ¹æ®ä¸Šå›¾ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“èƒ½å¤Ÿçœ‹åˆ°åº”è¯¥åœ¨å“ªé‡Œè®¾ç½®å˜é‡ï¼š
![image-20211218111330450](attachments/image-20211218111330450.png)

å°†æ¬¢è¿è¯­è®¾ç½®ä¸ºå˜é‡ï¼šwelcomeStrï¼Œå¹¶èµ‹é»˜è®¤å€¼ï¼š"æ¬¢è¿æ¥åˆ° obsidian"
ä¹Ÿå°±æ˜¯ä¸‹é¢è¿™æ ·ï¼š
![image-20211218111511560](attachments/image-20211218111511560.png)

â“é‚£ä¹ˆè¿™ä¸ªå˜é‡æ€ä¹ˆè¢«è°ƒç”¨åŠ è½½å‘¢ï¼Ÿ
è¯¦è§ï¼š[åŠ è½½è®¾ç½® loadSettings](#åŠ è½½è®¾ç½®-loadsettings)

â“åˆæ˜¯æ€æ ·ä¿®æ”¹ä¸ªå˜é‡çš„å€¼å‘¢ï¼Ÿ
è¯¦è§ï¼š[ä¿å­˜è®¾ç½® saveSettings](#ä¿å­˜è®¾ç½®-savesettings)

### ç¼–å†™æ’ä»¶è®¾ç½®é¢æ¿ PluginSettingTab

æ³¨æ„ï¼šè¿™é‡Œåªæ˜¯ç¼–å†™æ’ä»¶è®¾ç½®é¢æ¿ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜éœ€è¦åœ¨ [æ’ä»¶å¯ç”¨ onload](#æ’ä»¶å¯ç”¨-onload) ä¸­æŠŠè¯¥é¢æ¿æ·»åŠ åˆ°è®¾ç½®é‡Œå»

å…ˆçœ‹ä¸‹åŸæ¥çš„è®¾ç½®é¡µé¢ï¼š
å¯ä»¥çœ‹åˆ°è¿™ä¸ªè®¾ç½®é¡µé¢çš„å†…å®¹æœ‰ä¸€ä¸ªh2æ ‡é¢˜ã€ä¸€ä¸ªè®¾ç½®é¡¹ã€‚
![image-20211218112053158](attachments/image-20211218112053158.png)

æˆ‘ä»¬è¦æŠŠåŸæ¥çš„mySettingæ”¹æˆæˆ‘ä»¬åˆšåˆšè®¾å¥½çš„ welcomeStrï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
![image-20211218121117757](attachments/image-20211218121117757.png)

### æ’ä»¶ Plugin

æ’ä»¶ç¨‹åºçš„å¤§è‡´ç»“æ„å¦‚ä¸‹å›¾ï¼š**æˆ‘ä»¬ä¸»è¦ç¼–ç¨‹çš„ä½ç½®æ˜¯** **async onload()**ï¼Œå…¶å®ƒ 3 ä¸ªäº†è§£å³å¯ã€‚![image-20211218112853269](attachments/image-20211218112853269.png)

#### æ’ä»¶å¯ç”¨ onload()

è¿™é‡Œå°±æ˜¯ä¸»è¦ç¼–ç¨‹çš„åœ°æ–¹äº†ï¼Œä½ å°†åœ¨è¿™é‡Œè¿›è¡Œå‘½ä»¤ã€ä¾§è¾¹æŒ‰é’®ã€åº•éƒ¨çŠ¶æ€æ ã€è®¾ç½®é¢æ¿ã€äº‹ä»¶ç›‘å¬ç­‰ç­‰çš„æ·»åŠ ã€‚

ä¸‹é¢æˆ‘ä»¬è¦åœ¨è¿™é‡Œæ·»åŠ ï¼š

- ä¸€æ¡å‘½ä»¤ï¼š
  - å¼¹å‡ºé€šçŸ¥ï¼šæ˜¾ç¤ºè®¾ç½®ä¸­çš„ welcomeStr
  - å¼¹å‡ºé¢æ¿ï¼šæ˜¾ç¤ºå½“å‰é€‰ä¸­çš„æ–‡æ¡£çš„æ–‡æ¡£å

- ä¸€ä¸ªè®¾ç½®é¢æ¿ï¼šåˆšæ‰æˆ‘ä»¬å·²ç»ç¼–å†™è¿‡æ’ä»¶è®¾ç½®é¢æ¿äº†ï¼Œåœ¨è¿™é‡Œè¦åšçš„æ˜¯æŠŠç¼–è¾‘å¥½çš„é¢æ¿æ·»åŠ åˆ°æ’ä»¶ä¸­å»

##### æ·»åŠ ä¸€æ¡å‘½ä»¤å¹¶ä»¤å…¶å¼¹å‡ºé€šçŸ¥

å…ˆè®©å®ƒå‘å‡ºé€šçŸ¥ï¼Œé€šçŸ¥å†…å®¹ä¸ºæˆ‘ä»¬è®¾ç½®çš„æ¬¢è¿è¯­ï¼šwelcomeStrã€‚
copy å®˜æ–¹çš„ç¤ºä¾‹ä»£ç è‡ªå·±æ”¹ä¸‹ï¼š
![image-20211218122342173](attachments/image-20211218122342173.png)

ä¿å­˜å» obsidian ç‚¹å‡» Ctrl+P è°ƒæŸ¥å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»æœ‰æˆ‘ä»¬åˆšæ‰æ”¹åŠ¨çš„æ–°å‘½ä»¤äº†ï¼š
![image-20211218122533105](attachments/image-20211218122533105.png)

ç‚¹å‡»å‘½ä»¤ä¼šçœ‹åˆ°obsidianå³ä¸Šè§’å‡ºç°é€šçŸ¥ï¼Œé€šçŸ¥å†…å®¹ä¸ºæˆ‘ä»¬è®¾ç½®çš„é»˜è®¤å€¼ï¼š
![image-20211218122638613](attachments/image-20211218122638613.png)

##### ä¸ºè¯¥å‘½ä»¤æ·»åŠ å¼¹å‡ºé¢æ¿

é¦–å…ˆåœ¨åˆšæ‰æ·»åŠ å‘½ä»¤çš„ç¨‹åºå¿«é‡Œæ·»åŠ ä»£ç ï¼Œæ‰“å¼€ä¸€ä¸ªå®˜æ–¹ç¤ºä¾‹çš„é¢æ¿ï¼š
![image-20211218125755025](attachments/image-20211218125755025.png)

ç°åœ¨æ¥ç¼–è¾‘è¿™ä¸ªå®˜æ–¹çš„ç¤ºä¾‹é¢æ¿ï¼š
![image-20211218125936118](attachments/image-20211218125936118.png)

æˆ‘ä»¬åœ¨ onOpen() é‡Œç¼–è¾‘ä¸‹ï¼Œè®¾ç½®æ ‡é¢˜ã€æ˜¾ç¤ºçš„å†…å®¹ï¼š
![image-20211218130152687](attachments/image-20211218130152687.png)

ä¿å­˜æ›´æ”¹å» obsidian é‡Œè°ƒç”¨è¯¥å‘½ä»¤å¹¶è§‚å¯Ÿå˜åŒ–ï¼š![image-20211218130359693](attachments/image-20211218130359693.png)

##### æŠŠè®¾ç½®é¢æ¿æ·»åŠ åˆ°æ’ä»¶é‡Œ

ç»§ç»­åœ¨ onload() é‡Œç¼–è¾‘ï¼Œè¿˜æ˜¯ç…§æŠ„å®˜æ–¹ç¤ºä¾‹ä»£ç ï¼Œæ·»åŠ ä¸€ä¸ªæ’ä»¶è®¾ç½®é¡µï¼š![image-20211218130616400](attachments/image-20211218130616400.png)

è¿™ä¸ªæ’ä»¶è®¾ç½®é¡µæˆ‘ä»¬åœ¨å‰é¢å°±ç¼–è¾‘è¿‡äº†ï¼š[ç¼–å†™æ’ä»¶è®¾ç½®é¢æ¿ PluginSettingTab](#ç¼–å†™æ’ä»¶è®¾ç½®é¢æ¿-pluginsettingtab)

ä¿å­˜æ›´æ”¹å¹¶è¿›åˆ° obsidian æŸ¥çœ‹æ’ä»¶è®¾ç½®é¢æ¿ï¼š
![image-20211218131034341](attachments/image-20211218131034341.png)

#### æ’ä»¶ç¦ç”¨ onunload()

> ä½ å¯ä»¥åœ¨è¿™é‡Œè®¾ç½®ä¸€äº›åŠ¨ä½œï¼Œå½“æ’ä»¶è¢«ç¦ç”¨æ—¶ä¼šæ‰§è¡Œ

#### åŠ è½½è®¾ç½® loadSettings


â“è®¾ç½®å˜é‡æ€ä¹ˆè¢«åŠ è½½çš„å‘¢ï¼Ÿ

å›åˆ°åˆšæ‰çš„è®¾ç½®å˜é‡ï¼Œå³é”® DEFAULT_SETTINGSï¼ŒæŸ¥çœ‹è°å¼•ç”¨äº†å®ƒ
![image-20211218112504593](attachments/image-20211218112504593.png)

é¡µé¢ä¼šè·³åˆ°åŠ è½½è®¾ç½® loadSettings()ï¼š
å¯ä»¥çœ‹åˆ°åŠ è½½è®¾ç½®é‡Œé™¤äº† DEFAULT_SETTINGS å¤–ï¼Œè¿˜æœ‰ä¸ª loadData() çš„å€¼ï¼Œå®ƒä»¬è¢«èµ‹å€¼ç»™ this.settingsã€‚
å…¶ä¸­çš„ loadData() åŠ è½½çš„æ˜¯ä¿å­˜è®¾ç½®æ—¶ç”Ÿæˆçš„ data.json æ–‡ä»¶ã€‚
![image-20211218112653866](attachments/image-20211218112653866.png)

â“è®¾ç½®å˜é‡åˆæ˜¯ä»€ä¹ˆæ—¶å€™è¢«åŠ è½½å‘¢ï¼Ÿå³ä»€ä¹ˆæ—¶å€™è°ƒç”¨çš„è¿™ä¸ª loadSettings()ï¼Ÿ

åŒæ ·å³é”®è½¬åˆ°å¼•ç”¨ï¼š
å¯ä»¥çœ‹åˆ°åœ¨æ’ä»¶è¢«åŠ è½½çš„æ—¶å€™ä¼šè°ƒç”¨åŠ è½½è®¾ç½®ã€‚![image-20211218115011157](attachments/image-20211218115011157.png)

#### ä¿å­˜è®¾ç½® saveSettings()

å¯ä»¥çœ‹åˆ°æ˜¯æŠŠ this.settings ä¿å­˜åˆ°ç”Ÿæˆçš„ data.jsonã€‚
![image-20211218120647167](attachments/image-20211218120647167.png)

â“é‚£ä¹ˆä»€ä¹ˆæ—¶å€™ä¿å­˜è®¾ç½®å‘¢ï¼Ÿå³ä»€ä¹ˆæ—¶å€™ä¼šè°ƒç”¨ saveSettings() å‘¢ï¼Ÿ
åŒæ ·è·³è½¬åˆ°å¼•ç”¨ï¼šå¯ä»¥çœ‹åˆ°è®¾ç½®é¢æ¿ä¸­çš„è®¾ç½®é¡¹çš„æ–‡æœ¬å‘ç”Ÿå˜åŒ–ï¼ˆonChangeï¼‰æ—¶ä¼šè°ƒç”¨ savaSettings() æ¥ä¿å­˜è®¾ç½®ã€‚
ï¼ˆå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„ç¨‹åºæ¥è°ƒç”¨ä¿å­˜è®¾ç½®ï¼‰![image-20211218114210610](attachments/image-20211218114210610.png)

## 4ã€ç¼–è¾‘ style.css

åœ¨è¿™é‡Œè®¾ç½®ä¸€äº›æ ·å¼ï¼š
![image-20211218131152997](attachments/image-20211218131152997.png)

ä¸»ä½“çº¢å­—å¤ªéš¾å—äº†ï¼Œæˆ‘å°±æŠŠè¿™ä¸ªåˆ äº†â€¦â€¦

## 5ã€å®Œæˆå¼€å‘

è‡³æ­¤ï¼Œè¿™ä¸ªç®€å•çš„æ’ä»¶å°±å¼€å‘å®Œæˆäº†ã€‚

è¿˜éœ€è¦æœ€åä¸€ç‚¹å°æ­¥éª¤ï¼Œå› ä¸ºobsidianå®é™…è¿è¡Œéœ€è¦çš„æ’ä»¶æ–‡ä»¶åªæœ‰ä»¥ä¸‹å‡ ä¸ªçº¢æ¡†æ ‡æ³¨çš„æ–‡ä»¶ï¼Œæ‰€ä»¥å¼€å‘å®Œæˆåå¯ä»¥æŠŠä»…ä¿ç•™è¿™å‡ ä¸ªæ–‡ä»¶çš„æ–‡ä»¶å¤¹å¤åˆ¶åˆ°åˆ«çš„åº“ä¸­ï¼Œç„¶åå°±å¯ä»¥ç”¨æ’ä»¶äº†ï¼ˆè¿™é‡Œæˆ‘å°±ä¸åˆ é™¤äº†ï¼‰ï¼š
![image-20211218131612762](attachments/image-20211218131612762.png)

# ä¸‰ã€æˆ‘å¼€å‘çš„æ’ä»¶ï¼šçœ‹æ¿MOC

- æˆ‘å–œæ¬¢æŠŠç¬”è®°åˆ†ä¸¤ç§ç±»å‹ï¼šèµ„æºã€é¡¹ç›®
- ä¸€ä¸ªèµ„æºï¼ˆæˆ–é¡¹ç›®ï¼‰å¯èƒ½æœ‰å¤šä¸ªç¬”è®°å’Œé™„ä»¶ï¼Œæˆ‘å–œæ¬¢æŠŠä¸€ä¸ªèµ„æºï¼ˆæˆ–é¡¹ç›®ï¼‰çš„ç¬”è®°å’Œé™„ä»¶æ”¾åœ¨åŒä¸€ä¸ªä»¥èµ„æºï¼ˆæˆ–é¡¹ç›®ï¼‰åç§°å‘½åçš„æ–‡ä»¶å¤¹ä¸‹ã€‚
  ï¼ˆé™„ä»¶æ”¾åœ¨è¯¥æ–‡ä»¶å¤¹çš„attachmentsæ–‡ä»¶å¤¹ä¸­ï¼‰
- å…¥å£æ–‡æ¡£ï¼šæ¯ä¸ªå…·ä½“çš„èµ„æºï¼ˆæˆ–é¡¹ç›®ï¼‰æ–‡ä»¶å¤¹ä¸­éƒ½æœ‰ä¸€ä¸ªå’Œè¯¥æ–‡ä»¶å¤¹åŒåçš„æ–‡æ¡£ï¼Œè¿™ä¸ªæ–‡æ¡£çš„ä½œç”¨æ˜¯å¯¹å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„å…¶å®ƒæ–‡æ¡£è¿›è¡Œç®¡ç†ç´¢å¼•ã€‚
- æ ¹æ®ä¸Šè¿°æˆ‘çš„å–œå¥½ï¼Œæœ‰å¿…è¦è¯´æ˜ä¸‹æˆ‘çš„obsidianåšäº†äº›è®¾ç½®ä»¥ä¾¿æŠŠä¸€ä¸ªèµ„æºï¼ˆæˆ–é¡¹ç›®ï¼‰çš„ç¬”è®°ã€é™„ä»¶æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ï¼š
  - ç¬”è®°é™„ä»¶æ’å…¥åçš„å­˜æ”¾ä½ç½®ï¼šå½“å‰ç¼–è¾‘ç¬”è®°æ‰€åœ¨æ–‡ä»¶å¤¹ä¸‹çš„attachmentsæ–‡ä»¶å¤¹
  - æ–°å»ºç¬”è®°ä½ç½®ï¼šå½“å‰ç¼–è¾‘ç¬”è®°æ‰€åœ¨æ–‡ä»¶å¤¹

æˆ‘å·²ç»åœ¨æ¼”ç¤ºåº“ä¸­æˆ‘å·²ç»äº‹å…ˆæ–°å»ºå¥½äº† 2 ä¸ªèµ„æºã€é¡¹ç›®ï¼š

- ä¸€ä¸ªèµ„æºæ–‡ä»¶ï¼šobsidian
- ä¸€ä¸ªé¡¹ç›®æ–‡ä»¶ï¼šobsidiançœ‹æ¿MOCæ’ä»¶

## æ’ä»¶å‡†å¤‡ã€è®¾ç½®

### 1ã€æ‰‹åŠ¨åˆ›å»ºéƒ¨åˆ†æ–‡ä»¶

çœ‹æ¿MOCæ’ä»¶éœ€è¦äº‹å…ˆæ‰‹åŠ¨å‡†å¤‡çš„æ–‡ä»¶å¦‚ä¸‹ï¼š

- ä¸€ä¸ªæ€»æ–‡ä»¶å¤¹ï¼ˆéœ€ä½äºæ ¹ç›®å½•ï¼‰ï¼ˆæ–°å»ºçš„èµ„æºã€é¡¹ç›®ä¼šæ”¾åœ¨è¿™é‡Œé¢ï¼‰
- ä¸¤ä¸ªMOCæ–‡æ¡£ï¼ˆéœ€ä½äºæ ¹ç›®å½•ï¼‰ï¼ˆäºŒè€…éœ€çš†ä¸ºçœ‹æ¿æ¨¡å¼ï¼Œå¹¶ä¸”æœ‰è‡³å°‘ä¸€ä¸ªåˆ—ï¼‰
- ä¸€ä¸ªæ¨¡æ¿æ–‡ä»¶å¤¹ï¼ˆä¸€ä¸ªä½ ä¸å®¹æ˜“è¯¯åˆ é™¤çš„è·¯å¾„ï¼‰
  - â€œèµ„æº-æ¨¡æ¿.mdâ€ï¼ˆåˆ›å»ºæ–°èµ„æºæ—¶ç”¨åˆ°çš„æ¨¡æ¿ï¼‰
  - â€œé¡¹ç›®-æ¨¡æ¿.mdâ€ï¼ˆåˆ›å»ºæ–°é¡¹ç›®æ—¶ç”¨åˆ°çš„æ¨¡æ¿ï¼‰

éœ€è¦æ‰‹åŠ¨åˆ›å»ºçš„æ–‡ä»¶å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆé™¤äº†æ¨¡æ¿æ–‡æ¡£ä¸èƒ½è‡ªå®šä¹‰åç§°å¤–ï¼Œå…¶å®ƒéƒ½å¯ä»¥è‡ªå®šä¹‰åç§°ï¼‰ï¼š
![image-20211218133637660](attachments/image-20211218133637660.png)

### 2ã€è¿›å…¥æ’ä»¶è®¾ç½®é¢æ¿è®¾ç½®å‚æ•°

è¿™ä¸ªè·Ÿä¸Šé¢äº‹å…ˆæ‰‹åŠ¨å‡†å¤‡çš„æ–‡ä»¶æœ‰å…³

![image-20211218134011604](attachments/image-20211218134011604.png)

## æ’ä»¶ä½¿ç”¨

è¿™ 2 ä¸ªMOCæ–‡æ¡£ç”¨äºç®¡ç†æ‰€æœ‰èµ„æºã€é¡¹ç›®æ–‡ä»¶çš„ç´¢å¼•ã€‚

è€Œâ€œçœ‹æ¿MOCâ€æ’ä»¶å°±æ˜¯ç”¨æ¥è¾…åŠ©MOCæ–‡æ¡£è¿›è¡Œç®¡ç†ï¼Œè‡ªåŠ¨åˆ›å»ºæ–‡ä»¶ã€æ›´æ–°ç´¢å¼•ã€‚

### 1ã€æ’ä»¶å‘½ä»¤ä»‹ç»

Ctrl+P æ‰“å¼€å‘½ä»¤ï¼Œè¾“å…¥â€œçœ‹æ¿MOCâ€ï¼Œå¯ä»¥çœ‹åˆ°ä¸€å…±æœ‰ 7 æ¡å‘½ä»¤ï¼š
![image-20211218134634322](attachments/image-20211218134634322.png)

### 2ã€ä½¿ç”¨ç¤ºä¾‹ï¼šç®¡ç†ä¸€ä¸ªåä¸º"æµ‹è¯•"çš„èµ„æº

æ¥ä¸‹æ¥é€šè¿‡ä¸€ä¸ªç¤ºä¾‹å±•ç¤ºå¦‚æœä½¿ç”¨æ’ä»¶è¾…åŠ©ç®¡ç†èµ„æºã€é¡¹ç›®ã€‚

#### 2.1ã€åˆ›å»ºæ–°èµ„æºï¼šæµ‹è¯•

æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œè°ƒç”¨å‘½ä»¤`çœ‹æ¿MOC: åˆ›å»ºæ–°èµ„æº`ï¼Œåœ¨å¼¹å‡ºçš„é¢æ¿ä¸­è¾“å…¥æ–°èµ„æºåç§°"æµ‹è¯•"ï¼š
![image-20211218135727534](attachments/image-20211218135727534.png)

ç‚¹å‡»ç¡®å®šï¼Œæ–°å»ºå®Œæˆåå…³é—­é¢æ¿ã€‚å›åˆ°ğŸŒèµ„æºMOCæ–‡æ¡£ï¼Œå¯ä»¥çœ‹åˆ°ç°åœ¨æ–°å¢äº†ä¸€ä¸ªåç§°ä¸ºâ€œæµ‹è¯•â€çš„å¡ç‰‡ï¼š
![image-20211218140224656](attachments/image-20211218140224656.png)

ç‚¹å‡»â€œæµ‹è¯•â€è·³è½¬è‡³è¯¥é¡µé¢ï¼Œè¿™ä¸ªé¡µé¢æ˜¯è°ƒç”¨äº‹å…ˆåˆ›å»ºçš„æ¨¡æ¿æ–‡ä»¶åˆ›å»ºçš„ï¼š![image-20211218140331403](attachments/image-20211218140331403.png)

åŒæ ·åœ¨æ–‡ä»¶ç®¡ç†ä¸­ä½ ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œå®ƒåœ¨`AllFiles/èµ„æº`è·¯å¾„ä¸‹æ–°å»ºäº†ä¸€ä¸ªè·¯å¾„ä¸º`AllFiles/èµ„æº/æµ‹è¯•/æµ‹è¯•.md`æ–‡ä»¶ï¼š
![image-20211218140425809](attachments/image-20211218140425809.png)

#### 2.2ã€åˆ é™¤èµ„æºMOCå¯¹â€œæµ‹è¯•â€çš„ç´¢å¼•ï¼Œç„¶åæ›´æ–°ç´¢å¼•

ä¸‹é¢å›åˆ°ğŸŒèµ„æºMOCï¼Œåˆ é™¤å¡ç‰‡â€œæµ‹è¯•â€ï¼Œè¿™ä¸ªæ—¶å€™è¿™ä¸ªç´¢å¼•æ²¡æœ‰äº†ã€‚
æ¥ä¸‹æ¥è¿è¡Œå‘½ä»¤ï¼š`çœ‹æ¿MOC: æ›´æ–°ç´¢å¼•`ï¼Œä¼šå†æ¬¡ç´¢å¼•æœªè¢«ç´¢å¼•çš„èµ„æºå…¥å£æ–‡æ¡£ï¼Œå¹¶åœ¨èµ„æºMOCæœ€å·¦è¾¹çš„ä¸€åˆ—æ·»åŠ æœªè¢«ç´¢å¼•çš„æ–‡æ¡£çš„å¡ç‰‡ï¼š
![image-20211218141551473](attachments/image-20211218141551473.png)

> æœ‰äº†è¿™ä¸ªå‘½ä»¤å°±å¯ä»¥æŠŠä¸€ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹ç§»åŠ¨åˆ°èµ„æºæ–‡ä»¶å¤¹ï¼Œç„¶åç‚¹å‡»æ›´æ–°ç´¢å¼•

#### 2.3ã€ä¿®æ”¹èµ„æºâ€œæµ‹è¯•â€çš„åç§°ä¸ºï¼šæµ‹è¯•2

è¿è¡Œå‘½ä»¤ï¼š`çœ‹æ¿MOC: ä¿®æ”¹èµ„æºåç§°`ï¼Œä¿®æ”¹èµ„æºâ€œæµ‹è¯•â€çš„åç§°ä¸ºï¼šæµ‹è¯•2
![image-20211218141728342](attachments/image-20211218141728342.png)

ä¿®æ”¹æˆåŠŸåå…³é—­é¢æ¿ï¼Œå›åˆ°èµ„æºMOCï¼Œçœ‹åˆ°ç´¢å¼•ä¹Ÿä¼šæ”¹å˜ï¼š
![image-20211218141856302](attachments/image-20211218141856302.png)

æ‰“å¼€æ–‡ä»¶ç®¡ç†ï¼Œå¯ä»¥çœ‹åˆ°æ­¤æ—¶æ–‡æ¡£çš„è·¯å¾„å˜ä¸ºï¼š`AllFiles/èµ„æº/æµ‹è¯•2/æµ‹è¯•2.md`
æ³¨æ„ï¼šæ–‡ä»¶åï¼ˆå…¥å£æ–‡ä»¶ï¼‰å’Œæ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹éƒ½æ”¹åäº†ã€‚ï¼ˆå› ä¸ºå…¥å£æ–‡æ¡£è¦ä¿æŒå’Œæ–‡ä»¶å¤¹åŒåï¼‰

#### 2.4ã€åˆ é™¤åä¸ºâ€œæµ‹è¯•2â€çš„èµ„æº

è¿è¡Œå‘½ä»¤ï¼š`çœ‹æ¿MOC: åˆ é™¤èµ„æº`ï¼Œè¾“å…¥èµ„æºåç§°â€œæµ‹è¯•2â€ï¼Œç„¶åæ‰‹åŠ¨è¾“å…¥ï¼šâ€œç¡®è®¤åˆ é™¤â€ï¼Œç‚¹å‡»ç¡®å®šåˆ é™¤æ–‡ä»¶ï¼š
![image-20211218143049716](attachments/image-20211218143049716.png)

å¯ä»¥çœ‹åˆ°åˆ é™¤æ˜¯ç›´æ¥åˆ é™¤è¿™ä¸ªèµ„æºï¼ˆæˆ–é¡¹ç›®ï¼‰æ–‡ä»¶å¤¹ã€‚ç”µè„‘ç«¯åˆ é™¤çš„æ–‡ä»¶ä¼šæ”¾åœ¨å›æ”¶ç«™ï¼ˆæ‰‹æœºç«¯åˆ äº†æˆ‘ä¹Ÿä¸çŸ¥é“å»å“ªğŸ˜µâ€ğŸ’«ï¼‰

> åˆ é™¤èµ„æºï¼ˆæˆ–é¡¹ç›®ï¼‰æ—¶ç›®å‰ä¸ä¼šè‡ªåŠ¨åˆ é™¤MOCä¸­å¯¹è¯¥èµ„æºï¼ˆæˆ–é¡¹ç›®ï¼‰ç´¢å¼•çš„å¡ç‰‡ï¼Œéœ€è¦æ‰‹åŠ¨åˆ é™¤ã€‚

# å‚è€ƒé“¾æ¥

[ï¼ˆè½¬è½½ï¼‰Obsidian å¼€å‘ç›¸å…³ï¼ˆç®€å•å¼•å¯¼ï¼‰ - å¼€å‘è®¨è®º - Obsidian ä¸­æ–‡è®ºå›](https://forum-zh.obsidian.md/t/topic/148)

çœ‹æ¿MOCæ’ä»¶ï¼š[1657744680/obsidian-Kanban-MOC: è‡ªç”¨æ’ä»¶ (github.com)](https://github.com/1657744680/obsidian-Kanban-MOC)

çœ‹æ¿MOCæ’ä»¶å±•ç¤ºåº“ï¼š[1657744680/obsidian-Kanban-MOC-demo: çœ‹æ¿MOCæ’ä»¶çš„æ¼”ç¤ºåº“ (github.com)](https://github.com/1657744680/obsidian-Kanban-MOC-demo)

å¸¦æ³¨é‡Šçš„å®˜æ–¹æ’ä»¶ç¤ºä¾‹ï¼š[obsidian-plugin-sample-notes (github.com)](https://github.com/1657744680/obsidian-plugin-sample-notes)
